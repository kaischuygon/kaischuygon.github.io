---
import { CollectionKey, getCollection, type CollectionEntry } from 'astro:content';

import Layout from '../layouts/Layout.astro';

import GridItem from '../components/GridItem.astro';
import { Image } from 'astro:assets';
import portrait from '../../public/assets/portrait.png';

const gridItems = await getCollection('grid');

gridItems.sort(function (a:CollectionEntry<'grid'>, b:CollectionEntry<'grid'>) {
  return a.data.sortOrder - b.data.sortOrder;
});
---

<Layout>
	<div class="grid gap-4 grid-cols-1 md:grid-cols-3">
        <div class="brutalist-outline order-0 md:order-1">
            <Image
                src={portrait}
                alt="A profile of Kai"
                class:list={'object-cover h-full mx-auto rounded bg-primary-100 dark:bg-primary-900'}
            />
        </div>
		{gridItems.map((item:CollectionKey) => (
            item.slug == 'about' ? <GridItem item={item} id="about" order={0} /> : <GridItem item={item} order={1} />
            )
        )}
	</div>
</Layout>
