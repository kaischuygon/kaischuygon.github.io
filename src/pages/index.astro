---
import Layout from '../layouts/Layout.astro';
---

<Layout>
	<div class="flex flex-col gap-4 mx-auto w-full md:w-[768px] h-full justify-center" data-pagefind-ignore>
		<div class="font-header text-base-content">👋🏼 Hello! I'm </div>
		<div class="font-code font-semibold text-accent text-5xl md:text-6xl lg:text-7xl xl:text-8xl">
			<span id="typing" class="break-word">Kai Schuyler Gonzalez</span>
			<span id="cursor" class="absolute">_</span>
		</div>
		<div class="font-header text-base-content">a software engineer 💻 and designer ✏️ based in Boulder, Colorado 🦬 🏔️.</div>
	</div>
</Layout>

<script is:inline>
	// ensure only on index page
	document.addEventListener("astro:page-load", () => {
		var typingDiv = document.querySelector("#typing");
		var cursor = document.querySelector("#cursor");
		if (typingDiv && cursor) {
			var text = typingDiv.textContent || '';
			var i = 0;
			let typingSpeed = 100; 
			let blinkCount = 0;
			
			function type() {
				if(i <= text.length) {
					typingDiv.textContent = text.slice(0, i++);
				}
				setTimeout(type, typingSpeed);
			}
	
			function blinkCursor() { // blink 5 times
				if(blinkCount > 10) return;
				cursor.classList.toggle('opacity-0');
				setTimeout(blinkCursor, 500);
				blinkCount++;
			}
		
			type();
			
			// wait for typing to finish before blinking cursor
			setTimeout(blinkCursor, text.length * typingSpeed);
		}
	});
</script>
